/*
 * ATTENTION: The "eval" devtool has been used (maybe by default in mode: "development").
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
/******/ (() => { // webpackBootstrap
/******/ 	"use strict";
/******/ 	var __webpack_modules__ = ({

/***/ "./src/app.ts":
/*!********************!*\
  !*** ./src/app.ts ***!
  \********************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _services_user_service__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./services/user-service */ \"./src/services/user-service.ts\");\n/* harmony import */ var _services_libraryService__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./services/libraryService */ \"./src/services/libraryService.ts\");\n/* harmony import */ var _utils_pagination__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./utils/pagination */ \"./src/utils/pagination.ts\");\n\n\n\nvar App = (function () {\n    function App() {\n        this.userService = new _services_user_service__WEBPACK_IMPORTED_MODULE_0__.UserService();\n        this.libraryService = new _services_libraryService__WEBPACK_IMPORTED_MODULE_1__.LibraryService(this.userService);\n        this.setupUserForm();\n        this.setupBookForm();\n        this.setupBorrowBookForm();\n        this.setupReturnBookForm();\n        this.setupDeleteBookForm();\n        this.setupDeleteUserForm();\n        this.setupSearchForm();\n        this.libraryPagination = new _utils_pagination__WEBPACK_IMPORTED_MODULE_2__.Pagination(\"books-navigation\", \"books-list\", this.libraryService);\n        this.usersPagination = new _utils_pagination__WEBPACK_IMPORTED_MODULE_2__.Pagination(\"users-navigation\", \"users-list\", this.userService);\n        this.messageModalButton = document.getElementById('message-modal-button');\n        this.messageModalBody = document.getElementById('message-modal-body');\n        this.messageModalLabel = document.getElementById('messageModalLabel');\n        this.libraryPagination.goToPage(1);\n        this.usersPagination.goToPage(1);\n    }\n    App.prototype.setupUserForm = function () {\n        var _this = this;\n        var userCreationForm = document.getElementById(\"create-user-form\");\n        if (!userCreationForm)\n            return;\n        userCreationForm.addEventListener(\"submit\", function (event) {\n            event.preventDefault();\n            var handleUserCreation = function () {\n                var usernameInput = document.getElementById(\"username\");\n                var emailInput = document.getElementById(\"email\");\n                var username = usernameInput.value;\n                var email = emailInput.value;\n                _this.userService.add(username, email);\n            };\n            try {\n                handleUserCreation();\n                userCreationForm.reset();\n                _this.usersPagination.goToPage(1);\n            }\n            catch (err) {\n                console.log(err);\n            }\n        });\n    };\n    App.prototype.setupBookForm = function () {\n        var _this = this;\n        var bookCreationForm = document.getElementById(\"create-book-form\");\n        if (!bookCreationForm)\n            return;\n        bookCreationForm.addEventListener(\"submit\", function (event) {\n            event.preventDefault();\n            var handleBookCreation = function () {\n                var bookName = document.getElementById(\"bookName\").value;\n                var author = document.getElementById(\"author\").value;\n                var releaseYear = parseInt(document.getElementById(\"releaseYear\").value);\n                _this.libraryService.addBook(bookName, author, releaseYear);\n            };\n            try {\n                handleBookCreation();\n                bookCreationForm.reset();\n                _this.libraryPagination.goToPage(1);\n            }\n            catch (err) {\n                console.log(err);\n            }\n        });\n    };\n    App.prototype.setupBorrowBookForm = function () {\n        var _this = this;\n        var borrowBookForm = document.getElementById('borrow-book-form');\n        borrowBookForm.addEventListener('submit', function (event) {\n            event.preventDefault();\n            var handleBorrowBookProcess = function () {\n                var userId = parseInt(document.getElementById('borrow-user-id').value);\n                var bookId = parseInt(document.getElementById('borrow-book-id').value);\n                _this.libraryService.borrowBook(userId, bookId);\n                var book = _this.libraryService.getById(bookId);\n                if (!book)\n                    throw new Error(\"Error\");\n                var user = _this.userService.getById(userId);\n                if (!user)\n                    throw new Error(\"Error\");\n                _this.notifyUser('Book borrowed', \"\".concat(book.getFullName(), \" has been borrowed by \").concat(user.represent()));\n            };\n            try {\n                handleBorrowBookProcess();\n                borrowBookForm.reset();\n                _this.libraryPagination.goToPage(1);\n            }\n            catch (err) {\n                alert(err);\n            }\n        });\n    };\n    App.prototype.setupReturnBookForm = function () {\n        var _this = this;\n        var returnBookForm = document.getElementById('return-book-form');\n        returnBookForm.addEventListener('submit', function (event) {\n            event.preventDefault();\n            var handleReturnBookProcess = function () {\n                var userId = parseInt(document.getElementById('return-user-id').value);\n                var bookId = parseInt(document.getElementById('return-book-id').value);\n                _this.libraryService.returnBook(userId, bookId);\n                var book = _this.libraryService.getById(bookId);\n                if (!book)\n                    throw new Error(\"Error\");\n                _this.notifyUser('Book returned', \"\".concat(book.getFullName(), \" has been returned.\"));\n            };\n            try {\n                handleReturnBookProcess();\n                returnBookForm.reset();\n                _this.libraryPagination.goToPage(1);\n            }\n            catch (err) {\n                alert(err);\n            }\n        });\n    };\n    App.prototype.notifyUser = function (label, body) {\n        this.messageModalLabel.innerText = label;\n        this.messageModalBody.innerText = body;\n        this.messageModalButton.click();\n    };\n    App.prototype.setupSearchForm = function () {\n        var _this = this;\n        var searchForm = document.getElementById('search-form');\n        searchForm.addEventListener('reset', function (event) {\n            event.preventDefault();\n            searchForm.reset();\n            _this.libraryService.searchBook('', '');\n            _this.libraryPagination.goToPage(1);\n        });\n        searchForm.addEventListener('submit', function (event) {\n            event.preventDefault();\n            var handleSearchBookProcess = function () {\n                var searchQuery = document.getElementById('search-book').value;\n                var optionsSelect = document.getElementById('search-book-option');\n                var searchOption = optionsSelect.value;\n                console.log(\"Search options\");\n                console.log(searchOption);\n                console.log(\"Search query\");\n                console.log(searchQuery);\n                _this.libraryService.searchBook(searchQuery, searchOption);\n                _this.libraryPagination.goToPage(1);\n            };\n            try {\n                handleSearchBookProcess();\n            }\n            catch (err) {\n                alert(err);\n            }\n        });\n    };\n    App.prototype.setupDeleteBookForm = function () {\n        var _this = this;\n        var deleteBookForm = document.getElementById('delete-book-form');\n        deleteBookForm.addEventListener('submit', function (event) {\n            event.preventDefault();\n            var handleDeleteBookProcess = function () {\n                var bookId = parseInt(document.getElementById('delete-book-id').value);\n                _this.libraryService.removeBook(bookId);\n            };\n            try {\n                handleDeleteBookProcess();\n                deleteBookForm.reset();\n                location.reload();\n                _this.libraryPagination.goToPage(1);\n                _this.notifyUser(\"Book deleted\", \"Book was successfully deleted\");\n            }\n            catch (err) {\n                _this.notifyUser(\"Error occurred\", err);\n            }\n        });\n    };\n    App.prototype.setupDeleteUserForm = function () {\n        var _this = this;\n        var deleteUserForm = document.getElementById('delete-user-form');\n        deleteUserForm.addEventListener('submit', function (event) {\n            event.preventDefault();\n            var handleDeleteUserProcess = function () {\n                var userId = parseInt(document.getElementById('delete-user-id').value);\n                _this.userService.removeById(userId);\n            };\n            try {\n                handleDeleteUserProcess();\n                deleteUserForm.reset();\n                _this.usersPagination.goToPage(1);\n                _this.notifyUser(\"User deleted\", \"User was successfully deleted\");\n            }\n            catch (err) {\n                _this.notifyUser(\"Error occurred\", err);\n            }\n        });\n    };\n    return App;\n}());\ndocument.addEventListener('DOMContentLoaded', function () {\n    new App();\n});\n\n\n//# sourceURL=webpack://lab-app/./src/app.ts?");

/***/ }),

/***/ "./src/models/book.ts":
/*!****************************!*\
  !*** ./src/models/book.ts ***!
  \****************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   Book: () => (/* binding */ Book)\n/* harmony export */ });\nvar Book = (function () {\n    function Book(author, bookName, releaseYear) {\n        this.author = author || '';\n        this.bookName = bookName || '';\n        this.releaseYear = releaseYear || 0;\n        this.borrowed = false;\n        this.id = new Date().getTime();\n        this.borrowedBy = undefined;\n    }\n    Book.prototype.getAuthor = function () {\n        return this.author;\n    };\n    Book.prototype.getBookName = function () {\n        return this.bookName;\n    };\n    Book.prototype.getReleaseYear = function () {\n        return this.releaseYear;\n    };\n    Book.prototype.getId = function () {\n        return this.id;\n    };\n    Book.prototype.represent = function () {\n        var str = \"ID: \".concat(this.id, \" - \").concat(this.bookName, \" by \").concat(this.author, \" (\").concat(this.releaseYear, \"). \").concat(this.borrowedBy ? \" Borrowed By: \".concat(this.borrowedBy) : '');\n        console.log(str);\n        return str;\n    };\n    Book.prototype.getFullName = function () {\n        return \"ID: \".concat(this.id, \" - \").concat(this.bookName, \" by \").concat(this.author, \" (\").concat(this.releaseYear, \").\");\n    };\n    return Book;\n}());\n\n\n\n//# sourceURL=webpack://lab-app/./src/models/book.ts?");

/***/ }),

/***/ "./src/models/user.ts":
/*!****************************!*\
  !*** ./src/models/user.ts ***!
  \****************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   User: () => (/* binding */ User)\n/* harmony export */ });\nvar User = (function () {\n    function User(email, username) {\n        this.email = email || '';\n        this.username = username || '';\n        this.id = new Date().getTime();\n        this.borrowedBooks = [];\n    }\n    User.prototype.getEmail = function () {\n        return this.email;\n    };\n    User.prototype.getId = function () {\n        return this.id;\n    };\n    User.prototype.getUsername = function () {\n        return this.username;\n    };\n    User.prototype.represent = function () {\n        return \"ID: \".concat(this.id, \" - \").concat(this.username, \" (\").concat(this.email, \")\");\n    };\n    User.prototype.borrowBook = function (book) {\n        this.borrowedBooks.push(book);\n    };\n    User.prototype.takeBookBack = function (bookId) {\n        var book = this.borrowedBooks.filter(function (x) { return x.id === bookId; })[0];\n        if (!book) {\n            throw new Error(\"User does not have this book\");\n        }\n        this.borrowedBooks = this.borrowedBooks.filter(function (x) { return x.id !== bookId; });\n    };\n    return User;\n}());\n\n\n\n//# sourceURL=webpack://lab-app/./src/models/user.ts?");

/***/ }),

/***/ "./src/services/library.ts":
/*!*********************************!*\
  !*** ./src/services/library.ts ***!
  \*********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   Library: () => (/* binding */ Library)\n/* harmony export */ });\nvar Library = (function () {\n    function Library() {\n        this.items = [];\n    }\n    Library.prototype.add = function (item) {\n        this.items.push(item);\n    };\n    Library.prototype.remove = function (item) {\n        this.items = this.items.filter(function (x) { return x !== item; });\n    };\n    Library.prototype.removeById = function (id) {\n        var itemToDelete = this.items.filter(function (x) { return x.id === id; })[0];\n        if (!itemToDelete) {\n            throw new Error(\"Item was not found\");\n        }\n        this.items = this.items.filter(function (x) { return x.id !== id; });\n    };\n    Library.prototype.find = function (id) {\n        return this.items.filter(function (x) { return x.id === id; })[0];\n    };\n    Library.prototype.getAll = function () {\n        return this.items;\n    };\n    Library.prototype.getPaginated = function (pageNumber, pageSize) {\n        var start = (pageNumber - 1) * pageSize;\n        var end = start + pageSize;\n        return this.items.slice(start, end);\n    };\n    Library.prototype.getTotalCount = function () {\n        return this.items.length;\n    };\n    return Library;\n}());\n\n\n\n//# sourceURL=webpack://lab-app/./src/services/library.ts?");

/***/ }),

/***/ "./src/services/libraryService.ts":
/*!****************************************!*\
  !*** ./src/services/libraryService.ts ***!
  \****************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   LibraryService: () => (/* binding */ LibraryService)\n/* harmony export */ });\n/* harmony import */ var _utils_validation__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../utils/validation */ \"./src/utils/validation.ts\");\n/* harmony import */ var _storage__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./storage */ \"./src/services/storage.ts\");\n/* harmony import */ var _library__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./library */ \"./src/services/library.ts\");\n/* harmony import */ var _models_book__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../models/book */ \"./src/models/book.ts\");\n\n\n\n\nvar LibraryService = (function () {\n    function LibraryService(userService) {\n        this.booksKey = \"libraryBooks\";\n        this.userService = userService;\n        this.validation = _utils_validation__WEBPACK_IMPORTED_MODULE_0__.Validation.getInstance();\n        this.library = new _library__WEBPACK_IMPORTED_MODULE_2__.Library();\n        this.storageService = _storage__WEBPACK_IMPORTED_MODULE_1__.Storage.getInstance();\n        this.loadFromStorage();\n        this.allBooks = this.library.getAll();\n        this.queriedBooks = this.allBooks;\n    }\n    LibraryService.prototype.addBook = function (bookName, author, releaseYear) {\n        if (!this.validation.validateCreateBookRequest(bookName, author, releaseYear)) {\n            throw new Error(\"Invalid data for book\");\n        }\n        var book = new _models_book__WEBPACK_IMPORTED_MODULE_3__.Book(author, bookName, releaseYear);\n        this.library.add(book);\n        var books = this.library.getAll();\n        this.storageService.save(this.booksKey, books);\n    };\n    LibraryService.prototype.removeBook = function (bookId) {\n        this.library.removeById(bookId);\n        var books = this.library.getAll();\n        this.storageService.save(this.booksKey, books);\n    };\n    LibraryService.prototype.getById = function (bookId) {\n        return this.library.find(bookId);\n    };\n    LibraryService.prototype.getPaginated = function (pageNumber, pageSize) {\n        var start = (pageNumber - 1) * pageSize;\n        var end = start + pageSize;\n        var books = this.queriedBooks.slice(start, end);\n        console.log(\"Queried books:\");\n        console.log(books);\n        return books;\n    };\n    LibraryService.prototype.getTotalCount = function () {\n        return this.queriedBooks.length;\n    };\n    LibraryService.prototype.borrowBook = function (userId, bookId) {\n        var user = this.userService.getById(userId);\n        console.log(\"user found\");\n        if (!user) {\n            throw new Error(\"User not found\");\n        }\n        console.log(\"Borrowed count:\");\n        console.log(user.borrowedBooks.length);\n        if (user.borrowedBooks.length >= 3) {\n            throw new Error(\"User already has 3 books\");\n        }\n        var book = this.library.find(bookId);\n        console.log(\"book found\");\n        if (!book || book.borrowed) {\n            throw new Error(\"Book not found or it was already taken by someone\");\n        }\n        book.borrowed = true;\n        book.borrowedBy = user.email;\n        user.borrowBook(book);\n        this.storageService.save(this.booksKey, this.library.getAll());\n    };\n    LibraryService.prototype.returnBook = function (userId, bookId) {\n        var user = this.userService.getById(userId);\n        if (!user) {\n            throw new Error(\"User not found\");\n        }\n        var book = this.library.find(bookId);\n        if (!book) {\n            throw new Error(\"Book not found or it was already taken by someone\");\n        }\n        user.takeBookBack(bookId);\n        book.borrowedBy = undefined;\n        book.borrowed = false;\n        this.storageService.save(this.booksKey, this.library.getAll());\n    };\n    LibraryService.prototype.searchBook = function (searchQuery, searchOption) {\n        if (searchQuery === '') {\n            this.queriedBooks = this.allBooks;\n            return;\n        }\n        switch (searchOption) {\n            case \"name\":\n                this.queriedBooks = this.allBooks.filter(function (x) { return x.bookName.includes(searchQuery); });\n                break;\n            case \"author\":\n                this.queriedBooks = this.allBooks.filter(function (x) { return x.author.includes(searchQuery); });\n                break;\n            default:\n                this.queriedBooks = this.allBooks;\n                break;\n        }\n    };\n    LibraryService.prototype.loadFromStorage = function () {\n        var _a;\n        var books = (_a = this.storageService.get(this.booksKey)) !== null && _a !== void 0 ? _a : [];\n        for (var _i = 0, books_1 = books; _i < books_1.length; _i++) {\n            var book = books_1[_i];\n            var newBook = new _models_book__WEBPACK_IMPORTED_MODULE_3__.Book();\n            newBook.id = book.id;\n            newBook.author = book.author;\n            newBook.bookName = book.bookName;\n            newBook.releaseYear = book.releaseYear;\n            newBook.borrowed = book.borrowed;\n            newBook.borrowedBy = book.borrowedBy;\n            this.library.add(newBook);\n        }\n        console.log(this.library.getAll());\n    };\n    return LibraryService;\n}());\n\n\n\n//# sourceURL=webpack://lab-app/./src/services/libraryService.ts?");

/***/ }),

/***/ "./src/services/storage.ts":
/*!*********************************!*\
  !*** ./src/services/storage.ts ***!
  \*********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   Storage: () => (/* binding */ Storage)\n/* harmony export */ });\nvar Storage = (function () {\n    function Storage() {\n    }\n    Storage.prototype.save = function (key, data) {\n        localStorage.setItem(key, JSON.stringify(data));\n    };\n    Storage.prototype.get = function (key) {\n        return JSON.parse(localStorage.getItem(key) || \"[]\");\n    };\n    Storage.prototype.clear = function () {\n        localStorage.clear();\n    };\n    Storage.getInstance = function () {\n        if (!Storage.instance) {\n            Storage.instance = new Storage();\n        }\n        return Storage.instance;\n    };\n    return Storage;\n}());\n\n\n\n//# sourceURL=webpack://lab-app/./src/services/storage.ts?");

/***/ }),

/***/ "./src/services/user-service.ts":
/*!**************************************!*\
  !*** ./src/services/user-service.ts ***!
  \**************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   UserService: () => (/* binding */ UserService)\n/* harmony export */ });\n/* harmony import */ var _models_user__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../models/user */ \"./src/models/user.ts\");\n/* harmony import */ var _utils_validation__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../utils/validation */ \"./src/utils/validation.ts\");\n/* harmony import */ var _storage__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./storage */ \"./src/services/storage.ts\");\n/* harmony import */ var _models_book__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../models/book */ \"./src/models/book.ts\");\n\n\n\n\nvar UserService = (function () {\n    function UserService() {\n        this.usersKey = \"library-users\";\n        this.storage = _storage__WEBPACK_IMPORTED_MODULE_2__.Storage.getInstance();\n        this.validation = _utils_validation__WEBPACK_IMPORTED_MODULE_1__.Validation.getInstance();\n        this.users = [];\n        this.loadFromStorage();\n    }\n    UserService.prototype.add = function (username, email) {\n        if (!this.validation.validateCreateUserRequest(username, email)) {\n            throw new Error(\"Invalid data for user\");\n        }\n        var user = new _models_user__WEBPACK_IMPORTED_MODULE_0__.User(email, username);\n        this.users.push(user);\n        this.storage.save(this.usersKey, this.users);\n    };\n    UserService.prototype.remove = function (user) {\n        this.users = this.users.filter(function (x) { return x !== user; });\n        this.storage.save(this.usersKey, this.users);\n    };\n    UserService.prototype.removeById = function (userId) {\n        this.users = this.users.filter(function (x) { return x.id !== userId; });\n        this.storage.save(this.usersKey, this.users);\n    };\n    UserService.prototype.getById = function (userId) {\n        return this.users.filter(function (x) { return x.id === userId; })[0];\n    };\n    UserService.prototype.getPaginated = function (pageNumber, pageSize) {\n        var start = (pageNumber - 1) * pageSize;\n        var end = start + pageSize;\n        return this.users.slice(start, end);\n    };\n    UserService.prototype.getTotalCount = function () {\n        return this.users.length;\n    };\n    UserService.prototype.loadFromStorage = function () {\n        var users = this.storage.get(this.usersKey);\n        for (var _i = 0, users_1 = users; _i < users_1.length; _i++) {\n            var user = users_1[_i];\n            var newUser = new _models_user__WEBPACK_IMPORTED_MODULE_0__.User();\n            newUser.email = user.email;\n            newUser.id = user.id;\n            newUser.username = user.username;\n            var newBooks = [];\n            var books = user.borrowedBooks;\n            for (var _a = 0, books_1 = books; _a < books_1.length; _a++) {\n                var book = books_1[_a];\n                var newBook = new _models_book__WEBPACK_IMPORTED_MODULE_3__.Book();\n                newBook.id = book.id;\n                newBook.author = book.author;\n                newBook.bookName = book.bookName;\n                newBook.releaseYear = book.releaseYear;\n                newBook.borrowed = book.borrowed;\n                newBook.borrowedBy = book.borrowedBy;\n                newBooks.push(newBook);\n            }\n            newUser.borrowedBooks = newBooks;\n            this.users.push(newUser);\n        }\n    };\n    return UserService;\n}());\n\n\n\n//# sourceURL=webpack://lab-app/./src/services/user-service.ts?");

/***/ }),

/***/ "./src/utils/pagination.ts":
/*!*********************************!*\
  !*** ./src/utils/pagination.ts ***!
  \*********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   Pagination: () => (/* binding */ Pagination)\n/* harmony export */ });\nvar Pagination = (function () {\n    function Pagination(paginationId, listId, paginatableItems, itemsPerPage) {\n        if (itemsPerPage === void 0) { itemsPerPage = 5; }\n        this.currentPage = 1;\n        this.paginationId = paginationId;\n        this.listId = listId;\n        this.paginatableItems = paginatableItems;\n        this.itemsPerPage = itemsPerPage;\n        this.initListeners();\n        this.renderPageNumbers();\n    }\n    Pagination.prototype.getTotalPages = function () {\n        return Math.ceil(this.paginatableItems.getTotalCount() / this.itemsPerPage);\n    };\n    Pagination.prototype.goToPage = function (page) {\n        var totalPages = this.getTotalPages();\n        console.log(totalPages);\n        console.log(page);\n        if (totalPages == 0) {\n            this.clearPagination();\n        }\n        if (page < 1 || page > totalPages)\n            return;\n        this.currentPage = page;\n        this.updatePaginationUI();\n        this.renderPageNumbers();\n        this.renderItems();\n    };\n    Pagination.prototype.renderPageNumbers = function () {\n        var _this = this;\n        var totalPages = this.getTotalPages();\n        console.log(totalPages);\n        var paginationContainer = document.getElementById(this.paginationId);\n        if (!paginationContainer)\n            return;\n        Array.from(document.querySelectorAll(\".\".concat(this.paginationId, \"-page-number\"))).forEach(function (el) { return el.remove(); });\n        var _loop_1 = function (i) {\n            var pageItem = document.createElement('li');\n            pageItem.classList.add('page-item', \"\".concat(this_1.paginationId, \"-page-number\"));\n            if (i === this_1.currentPage) {\n                pageItem.classList.add('active');\n            }\n            var pageLink = document.createElement('a');\n            pageLink.classList.add('page-link');\n            pageLink.href = '#';\n            pageLink.textContent = i.toString();\n            pageLink.addEventListener('click', function (e) {\n                e.preventDefault();\n                _this.goToPage(i);\n            });\n            pageItem.appendChild(pageLink);\n            console.log(pageItem);\n            paginationContainer.insertBefore(pageItem, document.getElementById(\"\".concat(this_1.paginationId, \"-next-page\")));\n        };\n        var this_1 = this;\n        for (var i = 1; i <= totalPages; i++) {\n            _loop_1(i);\n        }\n        this.updatePaginationUI();\n    };\n    Pagination.prototype.initListeners = function () {\n        var _this = this;\n        var _a, _b;\n        (_a = document.getElementById(\"\".concat(this.paginationId, \"-prev-page\"))) === null || _a === void 0 ? void 0 : _a.addEventListener(\"click\", function (e) {\n            e.preventDefault();\n            _this.goToPage(_this.currentPage - 1);\n        });\n        (_b = document.getElementById(\"\".concat(this.paginationId, \"-next-page\"))) === null || _b === void 0 ? void 0 : _b.addEventListener(\"click\", function (e) {\n            e.preventDefault();\n            _this.goToPage(_this.currentPage + 1);\n        });\n    };\n    Pagination.prototype.updatePaginationUI = function () {\n        var _a, _b, _c, _d;\n        var totalPages = this.getTotalPages();\n        (_b = (_a = document.getElementById(\"\".concat(this.paginationId, \"-prev-page\"))) === null || _a === void 0 ? void 0 : _a.parentElement) === null || _b === void 0 ? void 0 : _b.classList.toggle(\"disabled\", this.currentPage === 1);\n        (_d = (_c = document.getElementById(\"\".concat(this.paginationId, \"-next-page\"))) === null || _c === void 0 ? void 0 : _c.parentElement) === null || _d === void 0 ? void 0 : _d.classList.toggle(\"disabled\", this.currentPage === totalPages);\n    };\n    Pagination.prototype.renderItems = function () {\n        var list = document.getElementById(this.listId);\n        if (!list)\n            return;\n        list.innerHTML = \"\";\n        var items = this.paginatableItems.getPaginated(this.currentPage, this.itemsPerPage);\n        for (var _i = 0, items_1 = items; _i < items_1.length; _i++) {\n            var item = items_1[_i];\n            var li = document.createElement('li');\n            li.className = \"list-group-item d-flex justify-content-between\";\n            var text = document.createTextNode(item.represent());\n            var p = document.createElement('p');\n            p.className = \"mt-auto mb-auto\";\n            p.appendChild(text);\n            li.appendChild(p);\n            list.appendChild(li);\n        }\n    };\n    Pagination.prototype.clearPagination = function () {\n        var paginationContainer = document.getElementById(this.paginationId);\n        if (!paginationContainer)\n            return;\n        Array.from(document.querySelectorAll(\".\".concat(this.paginationId, \"-page-number\"))).forEach(function (el) { return el.remove(); });\n        var list = document.getElementById(this.listId);\n        if (!list)\n            return;\n        list.innerHTML = \"\";\n    };\n    return Pagination;\n}());\n\n\n\n//# sourceURL=webpack://lab-app/./src/utils/pagination.ts?");

/***/ }),

/***/ "./src/utils/validation.ts":
/*!*********************************!*\
  !*** ./src/utils/validation.ts ***!
  \*********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   Validation: () => (/* binding */ Validation)\n/* harmony export */ });\nvar Validation = (function () {\n    function Validation() {\n        this.validaEmailRegExp = new RegExp(\"^[\\\\w-\\\\.]+@([\\\\w-]+\\\\.)+[\\\\w-]{2,4}$\");\n        this.validReleaseYearRegExp = new RegExp(\"^(0|[1-9][0-9]{0,3})$\");\n    }\n    Validation.prototype.validateCreateBookRequest = function (bookName, author, releaseYear) {\n        if (!bookName)\n            return false;\n        if (!author)\n            return false;\n        if (!releaseYear)\n            return false;\n        if (!this.validReleaseYearRegExp.test(releaseYear.toString()))\n            return false;\n        return true;\n    };\n    Validation.prototype.validateCreateUserRequest = function (username, email) {\n        if (!username)\n            return false;\n        if (!email)\n            return false;\n        if (!this.validaEmailRegExp.test(email))\n            return false;\n        return true;\n    };\n    Validation.getInstance = function () {\n        if (!Validation.instance) {\n            Validation.instance = new Validation();\n        }\n        return Validation.instance;\n    };\n    return Validation;\n}());\n\n\n\n//# sourceURL=webpack://lab-app/./src/utils/validation.ts?");

/***/ })

/******/ 	});
/************************************************************************/
/******/ 	// The module cache
/******/ 	var __webpack_module_cache__ = {};
/******/ 	
/******/ 	// The require function
/******/ 	function __webpack_require__(moduleId) {
/******/ 		// Check if module is in cache
/******/ 		var cachedModule = __webpack_module_cache__[moduleId];
/******/ 		if (cachedModule !== undefined) {
/******/ 			return cachedModule.exports;
/******/ 		}
/******/ 		// Create a new module (and put it into the cache)
/******/ 		var module = __webpack_module_cache__[moduleId] = {
/******/ 			// no module.id needed
/******/ 			// no module.loaded needed
/******/ 			exports: {}
/******/ 		};
/******/ 	
/******/ 		// Execute the module function
/******/ 		__webpack_modules__[moduleId](module, module.exports, __webpack_require__);
/******/ 	
/******/ 		// Return the exports of the module
/******/ 		return module.exports;
/******/ 	}
/******/ 	
/************************************************************************/
/******/ 	/* webpack/runtime/define property getters */
/******/ 	(() => {
/******/ 		// define getter functions for harmony exports
/******/ 		__webpack_require__.d = (exports, definition) => {
/******/ 			for(var key in definition) {
/******/ 				if(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {
/******/ 					Object.defineProperty(exports, key, { enumerable: true, get: definition[key] });
/******/ 				}
/******/ 			}
/******/ 		};
/******/ 	})();
/******/ 	
/******/ 	/* webpack/runtime/hasOwnProperty shorthand */
/******/ 	(() => {
/******/ 		__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))
/******/ 	})();
/******/ 	
/******/ 	/* webpack/runtime/make namespace object */
/******/ 	(() => {
/******/ 		// define __esModule on exports
/******/ 		__webpack_require__.r = (exports) => {
/******/ 			if(typeof Symbol !== 'undefined' && Symbol.toStringTag) {
/******/ 				Object.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });
/******/ 			}
/******/ 			Object.defineProperty(exports, '__esModule', { value: true });
/******/ 		};
/******/ 	})();
/******/ 	
/************************************************************************/
/******/ 	
/******/ 	// startup
/******/ 	// Load entry module and return exports
/******/ 	// This entry module can't be inlined because the eval devtool is used.
/******/ 	var __webpack_exports__ = __webpack_require__("./src/app.ts");
/******/ 	
/******/ })()
;